<?xml version="1.0" encoding="UTF-8"?>
<conf>

 <!-- Global configuration options. -->
 <module_directory>@PREFIX_MODULES@</module_directory>
 <broker_id>3</broker_id>
 <broker_name>central-module</broker_name>
 <poller_id>1</poller_id>
 <poller_name>Central</poller_name>
 <event_queue_max_size>10000</event_queue_max_size>
 <flush_logs>no</flush_logs>
 <log_thread_id>no</log_thread_id>
 <log_timestamp>yes</log_timestamp>
 <cache_directory>@PREFIX_VAR@</cache_directory>
 <command_file>@PREFIX_VAR@/central-module.cmd</command_file>

 <!-- Transmits external commands and configuration files from central-broker. -->
 <input>
  <retry_interval>60</retry_interval>
  <one_peer_retention_mode>no</one_peer_retention_mode>
  <protocol>bbdo</protocol>
  <negociation>yes</negociation>
  <type>tcp</type>
  <name>central-module-transfert-input</name>
  <host>localhost</host>
  <port>5669</port>
 </input>

 <!-- Send monitoring information to central-broker. -->
 <output>
  <retry_interval>60</retry_interval>
  <type>tcp</type>
  <name>central-module-output</name>
  <port>5668</port>
  <host>localhost</host>
  <protocol>bbdo</protocol>
  <filters>
   <category>neb</category>
  </filters>
 </output>

 <!-- Write Broker external commands issued by central-broker. -->
 <output>
  <retry_interval>60</retry_interval>
  <type>dumper</type>
  <tagname>extcommands-broker-$BROKERID$</tagname>
  <path>@PREFIX_VAR@/central-module.cmd</path>
  <name>central-module-extcommands-broker</name>
 </output>

 <!-- Write Engine external commands issued by central-broker. -->
 <output>
  <retry_interval>60</retry_interval>
  <type>dumper</type>
  <tagname>extcommands-engine-$BROKERID$</tagname>
  <path>/var/lib/centreon-engine/rw/centengine.cmd</path>
  <name>central-module-extcommands-engine</name>
 </output>

 <!-- Write Broker configuration files issued by central-broker. -->
 <output>
  <retry_interval>60</retry_interval>
  <type>dumper</type>
  <tagname>cfg-broker-$BROKERID$</tagname>
  <path>/etc/centreon-broker/$FILENAME$</path>
  <name>central-module-cfg-broker</name>
 </output>

 <!-- Write Engine configuration files issued by central-broker. -->
 <output>
  <retry_interval>60</retry_interval>
  <type>dumper</type>
  <tagname>cfg-engine-$BROKERID$</tagname>
  <path>/etc/centreon-engine/$FILENAME$</path>
  <name>central-module-cfg-engine</name>
 </output>

 <!-- Log file. -->
 <logger>
  <config>yes</config>
  <debug>no</debug>
  <error>yes</error>
  <info>yes</info>
  <level>low</level>
  <type>file</type>
  <name>/var/log/centreon-broker/central-module.log</name>
 </logger>

 <!-- Statistics. -->
 <stats>
  <type>stats</type>
  <name>central-module-stats</name>
  <fifo>@PREFIX_VAR@/central-module.stats</fifo>
 </stats>

</conf>
