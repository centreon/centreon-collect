#!/usr/bin/perl
# 
# Copyright 2019 Centreon (http://www.centreon.com/)
#
# Centreon is a full-fledged industry-strength solution that meets
# the needs in IT infrastructure and application monitoring for
# service performance.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

use strict;
use warnings;

use FindBin;
use lib "$FindBin::Bin";
use gorgone::class::core;

    #my $fh;
    #open($fh, ">>", "/tmp/gorgone-process-core-1");
    #use Devel::TraceCalls;
    #trace_calls {
    #    Package => ["gorgone::modules::centreon::audit::hooks", "gorgone::modules::centreon::audit::class", "gorgone::modules::centreon::audit::sampling::system::cpu", "gorgone::modules::centreon::audit::sampling::system::diskio", "gorgone::modules::centreon::audit::metrics::system::cpu", "gorgone::modules::centreon::audit::metrics::system::disk", "gorgone::modules::centreon::audit::metrics::system::os", "gorgone::modules::centreon::audit::metrics::system::diskio", "gorgone::modules::centreon::audit::metrics::system::load", "gorgone::modules::centreon::audit::metrics::system::memory", "gorgone::modules::centreon::audit::metrics::centreon::realtime", "gorgone::modules::centreon::audit::metrics::centreon::packages", "gorgone::modules::centreon::audit::metrics::centreon::rrd", "gorgone::modules::centreon::audit::metrics::centreon::pluginpacks", "gorgone::modules::centreon::audit::metrics::centreon::database", "gorgone::modules::centreon::judge::hooks", "gorgone::modules::centreon::judge::class", "gorgone::modules::centreon::judge::type::spare", "gorgone::modules::centreon::judge::type::distribute", "gorgone::modules::centreon::nodes::class", "gorgone::modules::centreon::nodes::hooks", "gorgone::modules::centreon::statistics::hooks", "gorgone::modules::centreon::statistics::class", "gorgone::modules::centreon::anomalydetection::hooks", "gorgone::modules::centreon::anomalydetection::class", "gorgone::modules::centreon::inject::class", "gorgone::modules::centreon::inject::hooks", "gorgone::modules::centreon::autodiscovery::hooks", "gorgone::modules::centreon::autodiscovery::class", "gorgone::modules::centreon::autodiscovery::services::discovery", "gorgone::modules::centreon::autodiscovery::services::resources", "gorgone::modules::centreon::engine::class", "gorgone::modules::centreon::engine::hooks", "gorgone::modules::centreon::legacycmd::hooks", "gorgone::modules::centreon::legacycmd::class", "gorgone::modules::plugins::scom::hooks", "gorgone::modules::plugins::scom::class", "gorgone::modules::plugins::newtest::class", "gorgone::modules::plugins::newtest::hooks", "gorgone::modules::plugins::newtest::libs::stubs::errors", "gorgone::modules::plugins::newtest::libs::stubs::ManagementConsoleService", "gorgone::modules::core::pullwss::hooks", "gorgone::modules::core::pullwss::class", "gorgone::modules::core::httpserver::class", "gorgone::modules::core::httpserver::hooks", "gorgone::modules::core::pull::hooks", "gorgone::modules::core::pull::class", "gorgone::modules::core::httpserverng::class", "gorgone::modules::core::httpserverng::hooks", "gorgone::modules::core::action::class", "gorgone::modules::core::action::hooks", "gorgone::modules::core::pipeline::class", "gorgone::modules::core::pipeline::hooks", "gorgone::modules::core::cron::hooks", "gorgone::modules::core::cron::class", "gorgone::modules::core::proxy::httpserver", "gorgone::modules::core::proxy::hooks", "gorgone::modules::core::proxy::class", "gorgone::modules::core::register::class", "gorgone::modules::core::register::hooks", "gorgone::modules::core::dbcleaner::hooks", "gorgone::modules::core::dbcleaner::class", "gorgone::class::fingerprint::backend::sql", "gorgone::class::clientzmq", "gorgone::class::script", "gorgone::class::db", "gorgone::class::tpapi::centreonv2", "gorgone::class::tpapi::clapi", "gorgone::class::core", "gorgone::class::sqlquery", "gorgone::class::module", "gorgone::class gorgone::class::frame", "gorgone::class::http::http", "gorgone::class::http::backend::useragent", "gorgone::class::http::backend::curl", "gorgone::class::http::backend::curlconstants", "gorgone::class::http::backend::lwp", "gorgone::class::listener", "gorgone::standard::misc", "gorgone::standard::api", "gorgone::standard::constants", "gorgone::standard::library"],
    #    LogTo => $fh,
    #};

gorgone::class::core->new()->run();

__END__

=head1 NAME

gorgoned - a daemon to handle so many things.

=head1 SYNOPSIS

gorgoned [options]

=head1 OPTIONS

=over 8

=item B<--config>

Specify the path to the yaml configuration file (default: '').

=item B<--vault>

Specify the path to the vault json configuration file (default: '/var/lib/centreon/vault/vault.json').

=item B<--help>

Print a brief help message and exits.

=item B<--version>

Print version message and exits.

=back

=head1 DESCRIPTION

B<gorgoned> will survive

=cut
